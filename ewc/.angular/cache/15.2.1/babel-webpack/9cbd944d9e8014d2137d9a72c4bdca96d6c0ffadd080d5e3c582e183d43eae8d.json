{"ast":null,"code":"import { PARAM_KEY } from \"./chunk-JT3VIYBO.mjs\";\nimport { global } from \"@storybook/global\";\nimport { addons, makeDecorator } from \"@storybook/preview-api\";\nimport { STORY_CHANGED, SELECT_STORY } from \"@storybook/core-events\";\nimport { toId } from \"@storybook/csf\";\nvar {\n  document,\n  HTMLElement\n} = global;\nfunction parseQuery(queryString) {\n  let query = {},\n    pairs = (queryString[0] === \"?\" ? queryString.substring(1) : queryString).split(\"&\").filter(Boolean);\n  for (let i = 0; i < pairs.length; i++) {\n    let pair = pairs[i].split(\"=\");\n    query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || \"\");\n  }\n  return query;\n}\nvar navigate = params => addons.getChannel().emit(SELECT_STORY, params),\n  hrefTo = (title, name) => new Promise(resolve => {\n    let {\n        location\n      } = document,\n      query = parseQuery(location.search),\n      existingId = [].concat(query.id)[0],\n      titleToLink = title || existingId.split(\"--\", 2)[0],\n      id = toId(titleToLink, name),\n      url = `${location.origin + location.pathname}?${Object.entries({\n        ...query,\n        id\n      }).map(item => `${item[0]}=${item[1]}`).join(\"&\")}`;\n    resolve(url);\n  }),\n  valueOrCall = args => value => typeof value == \"function\" ? value(...args) : value,\n  linkTo = (idOrTitle, nameInput) => (...args) => {\n    let resolver = valueOrCall(args),\n      title = resolver(idOrTitle),\n      name = nameInput ? resolver(nameInput) : !1;\n    title?.match(/--/) && !name ? navigate({\n      storyId: title\n    }) : name && title ? navigate({\n      kind: title,\n      story: name\n    }) : title ? navigate({\n      kind: title\n    }) : name && navigate({\n      story: name\n    });\n  },\n  linksListener = e => {\n    let {\n      target\n    } = e;\n    if (!(target instanceof HTMLElement)) return;\n    let element = target,\n      {\n        sbKind: kind,\n        sbStory: story\n      } = element.dataset;\n    (kind || story) && (e.preventDefault(), navigate({\n      kind,\n      story\n    }));\n  },\n  hasListener = !1,\n  on = () => {\n    hasListener || (hasListener = !0, document.addEventListener(\"click\", linksListener));\n  },\n  off = () => {\n    hasListener && (hasListener = !1, document.removeEventListener(\"click\", linksListener));\n  },\n  withLinks = makeDecorator({\n    name: \"withLinks\",\n    parameterName: PARAM_KEY,\n    wrapper: (getStory, context) => (on(), addons.getChannel().once(STORY_CHANGED, off), getStory(context))\n  });\nexport { navigate, hrefTo, linkTo, withLinks };","map":{"version":3,"names":["PARAM_KEY","global","addons","makeDecorator","STORY_CHANGED","SELECT_STORY","toId","document","HTMLElement","parseQuery","queryString","query","pairs","substring","split","filter","Boolean","i","length","pair","decodeURIComponent","navigate","params","getChannel","emit","hrefTo","title","name","Promise","resolve","location","search","existingId","concat","id","titleToLink","url","origin","pathname","Object","entries","map","item","join","valueOrCall","args","value","linkTo","idOrTitle","nameInput","resolver","match","storyId","kind","story","linksListener","e","target","element","sbKind","sbStory","dataset","preventDefault","hasListener","on","addEventListener","off","removeEventListener","withLinks","parameterName","wrapper","getStory","context","once"],"sources":["/Users/gabriele/Training/microfrontend/ewc/node_modules/@storybook/addon-links/dist/chunk-YFKH3BW3.mjs"],"sourcesContent":["import{PARAM_KEY}from\"./chunk-JT3VIYBO.mjs\";import{global}from\"@storybook/global\";import{addons,makeDecorator}from\"@storybook/preview-api\";import{STORY_CHANGED,SELECT_STORY}from\"@storybook/core-events\";import{toId}from\"@storybook/csf\";var{document,HTMLElement}=global;function parseQuery(queryString){let query={},pairs=(queryString[0]===\"?\"?queryString.substring(1):queryString).split(\"&\").filter(Boolean);for(let i=0;i<pairs.length;i++){let pair=pairs[i].split(\"=\");query[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1]||\"\")}return query}var navigate=params=>addons.getChannel().emit(SELECT_STORY,params),hrefTo=(title,name)=>new Promise(resolve=>{let{location}=document,query=parseQuery(location.search),existingId=[].concat(query.id)[0],titleToLink=title||existingId.split(\"--\",2)[0],id=toId(titleToLink,name),url=`${location.origin+location.pathname}?${Object.entries({...query,id}).map(item=>`${item[0]}=${item[1]}`).join(\"&\")}`;resolve(url)}),valueOrCall=args=>value=>typeof value==\"function\"?value(...args):value,linkTo=(idOrTitle,nameInput)=>(...args)=>{let resolver=valueOrCall(args),title=resolver(idOrTitle),name=nameInput?resolver(nameInput):!1;title?.match(/--/)&&!name?navigate({storyId:title}):name&&title?navigate({kind:title,story:name}):title?navigate({kind:title}):name&&navigate({story:name})},linksListener=e=>{let{target}=e;if(!(target instanceof HTMLElement))return;let element=target,{sbKind:kind,sbStory:story}=element.dataset;(kind||story)&&(e.preventDefault(),navigate({kind,story}))},hasListener=!1,on=()=>{hasListener||(hasListener=!0,document.addEventListener(\"click\",linksListener))},off=()=>{hasListener&&(hasListener=!1,document.removeEventListener(\"click\",linksListener))},withLinks=makeDecorator({name:\"withLinks\",parameterName:PARAM_KEY,wrapper:(getStory,context)=>(on(),addons.getChannel().once(STORY_CHANGED,off),getStory(context))});export{navigate,hrefTo,linkTo,withLinks};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}